{
  "metadata": {
    "dbt_schema_version": "https://schemas.getdbt.com/dbt/manifest/v12/manifest.json",
    "dbt_version": "1.8.0",
    "generated_at": "2026-02-25T12:00:00.000000Z",
    "invocation_id": "abc123",
    "env": {},
    "project_name": "jaffle_shop",
    "adapter_type": "duckdb"
  },
  "nodes": {
    "model.jaffle_shop.stg_orders": {
      "unique_id": "model.jaffle_shop.stg_orders",
      "name": "stg_orders",
      "resource_type": "model",
      "package_name": "jaffle_shop",
      "fqn": ["jaffle_shop", "staging", "stg_orders"],
      "original_file_path": "models/staging/stg_orders.sql",
      "database": "dev",
      "schema": "jaffle_shop_staging",
      "alias": "stg_orders",
      "description": "Staged orders from the raw orders source table.",
      "language": "sql",
      "raw_code": "SELECT id as order_id, user_id as customer_id, amount, status, ordered_at FROM {{ source('jaffle_shop', 'orders') }}",
      "compiled_code": "SELECT id as order_id, user_id as customer_id, amount, status, ordered_at FROM dev.raw.orders",
      "config": {"materialized": "view", "tags": ["staging"]},
      "tags": ["staging"],
      "meta": {},
      "columns": {
        "order_id": {"name": "order_id", "description": "Primary key — unique order identifier", "data_type": "bigint"},
        "customer_id": {"name": "customer_id", "description": "Foreign key to customers", "data_type": "bigint"},
        "amount": {"name": "amount", "description": "Order amount in cents", "data_type": "bigint"},
        "status": {"name": "status", "description": "Order status: placed, shipped, completed, return_pending, returned", "data_type": "varchar"},
        "ordered_at": {"name": "ordered_at", "description": "Timestamp when order was placed", "data_type": "timestamp"}
      },
      "depends_on": {"nodes": ["source.jaffle_shop.jaffle_shop.orders"]},
      "refs": [],
      "sources": [["jaffle_shop", "orders"]]
    },
    "model.jaffle_shop.stg_customers": {
      "unique_id": "model.jaffle_shop.stg_customers",
      "name": "stg_customers",
      "resource_type": "model",
      "package_name": "jaffle_shop",
      "fqn": ["jaffle_shop", "staging", "stg_customers"],
      "original_file_path": "models/staging/stg_customers.sql",
      "database": "dev",
      "schema": "jaffle_shop_staging",
      "alias": "stg_customers",
      "description": "Staged customers from the raw customers source.",
      "language": "sql",
      "raw_code": "SELECT id as customer_id, first_name, last_name, email FROM {{ source('jaffle_shop', 'customers') }}",
      "compiled_code": "SELECT id as customer_id, first_name, last_name, email FROM dev.raw.customers",
      "config": {"materialized": "view", "tags": ["staging"]},
      "tags": ["staging"],
      "meta": {},
      "columns": {
        "customer_id": {"name": "customer_id", "description": "Primary key — unique customer identifier", "data_type": "bigint"},
        "first_name": {"name": "first_name", "description": "Customer first name", "data_type": "varchar"},
        "last_name": {"name": "last_name", "description": "Customer last name", "data_type": "varchar"},
        "email": {"name": "email", "description": "Customer email address", "data_type": "varchar"}
      },
      "depends_on": {"nodes": ["source.jaffle_shop.jaffle_shop.customers"]},
      "refs": [],
      "sources": [["jaffle_shop", "customers"]]
    },
    "model.jaffle_shop.stg_payments": {
      "unique_id": "model.jaffle_shop.stg_payments",
      "name": "stg_payments",
      "resource_type": "model",
      "package_name": "jaffle_shop",
      "fqn": ["jaffle_shop", "staging", "stg_payments"],
      "original_file_path": "models/staging/stg_payments.sql",
      "database": "dev",
      "schema": "jaffle_shop_staging",
      "alias": "stg_payments",
      "description": "Staged payments. One row per payment.",
      "language": "sql",
      "raw_code": "SELECT id as payment_id, order_id, payment_method, amount FROM {{ source('jaffle_shop', 'payments') }}",
      "compiled_code": "SELECT id as payment_id, order_id, payment_method, amount FROM dev.raw.payments",
      "config": {"materialized": "view", "tags": ["staging"]},
      "tags": ["staging"],
      "meta": {},
      "columns": {
        "payment_id": {"name": "payment_id", "description": "Primary key", "data_type": "bigint"},
        "order_id": {"name": "order_id", "description": "Foreign key to orders", "data_type": "bigint"},
        "payment_method": {"name": "payment_method", "description": "Payment method: credit_card, coupon, bank_transfer, gift_card", "data_type": "varchar"},
        "amount": {"name": "amount", "description": "Payment amount in cents", "data_type": "bigint"}
      },
      "depends_on": {"nodes": ["source.jaffle_shop.jaffle_shop.payments"]},
      "refs": [],
      "sources": [["jaffle_shop", "payments"]]
    },
    "model.jaffle_shop.fct_orders": {
      "unique_id": "model.jaffle_shop.fct_orders",
      "name": "fct_orders",
      "resource_type": "model",
      "package_name": "jaffle_shop",
      "fqn": ["jaffle_shop", "marts", "fct_orders"],
      "original_file_path": "models/marts/fct_orders.sql",
      "database": "dev",
      "schema": "jaffle_shop",
      "alias": "fct_orders",
      "description": "This model cleans up orders and adds payment information.",
      "language": "sql",
      "raw_code": "WITH orders AS (SELECT * FROM {{ ref('stg_orders') }}), payments AS (SELECT order_id, sum(amount) as total_amount FROM {{ ref('stg_payments') }} GROUP BY order_id) SELECT o.order_id, o.customer_id, o.status, o.ordered_at, coalesce(p.total_amount, 0) as amount FROM orders o LEFT JOIN payments p ON o.order_id = p.order_id",
      "compiled_code": "WITH orders AS (SELECT * FROM dev.jaffle_shop_staging.stg_orders), payments AS (SELECT order_id, sum(amount) as total_amount FROM dev.jaffle_shop_staging.stg_payments GROUP BY order_id) SELECT o.order_id, o.customer_id, o.status, o.ordered_at, coalesce(p.total_amount, 0) as amount FROM orders o LEFT JOIN payments p ON o.order_id = p.order_id",
      "config": {"materialized": "table", "tags": ["daily", "marts"]},
      "tags": ["daily", "marts"],
      "meta": {},
      "columns": {
        "order_id": {"name": "order_id", "description": "Primary key", "data_type": "bigint"},
        "customer_id": {"name": "customer_id", "description": "Foreign key to customers", "data_type": "bigint"},
        "status": {"name": "status", "description": "Order status", "data_type": "varchar"},
        "ordered_at": {"name": "ordered_at", "description": "When the order was placed", "data_type": "timestamp"},
        "amount": {"name": "amount", "description": "Total order amount in cents", "data_type": "bigint"}
      },
      "depends_on": {"nodes": ["model.jaffle_shop.stg_orders", "model.jaffle_shop.stg_payments"]},
      "refs": [["stg_orders"], ["stg_payments"]],
      "sources": []
    },
    "model.jaffle_shop.dim_customers": {
      "unique_id": "model.jaffle_shop.dim_customers",
      "name": "dim_customers",
      "resource_type": "model",
      "package_name": "jaffle_shop",
      "fqn": ["jaffle_shop", "marts", "dim_customers"],
      "original_file_path": "models/marts/dim_customers.sql",
      "database": "dev",
      "schema": "jaffle_shop",
      "alias": "dim_customers",
      "description": "Customer dimension. One row per customer with lifetime stats.",
      "language": "sql",
      "raw_code": "WITH customers AS (SELECT * FROM {{ ref('stg_customers') }}), orders AS (SELECT customer_id, count(*) as order_count, sum(amount) as lifetime_value FROM {{ ref('fct_orders') }} GROUP BY customer_id) SELECT c.customer_id, c.first_name, c.last_name, c.email, coalesce(o.order_count, 0) as order_count, coalesce(o.lifetime_value, 0) as lifetime_value FROM customers c LEFT JOIN orders o ON c.customer_id = o.customer_id",
      "compiled_code": "...",
      "config": {"materialized": "table", "tags": ["daily", "marts"]},
      "tags": ["daily", "marts"],
      "meta": {},
      "columns": {
        "customer_id": {"name": "customer_id", "description": "Primary key", "data_type": "bigint"},
        "first_name": {"name": "first_name", "description": "Customer first name", "data_type": "varchar"},
        "last_name": {"name": "last_name", "description": "Customer last name", "data_type": "varchar"},
        "email": {"name": "email", "description": "Email address", "data_type": "varchar"},
        "order_count": {"name": "order_count", "description": "Lifetime order count", "data_type": "bigint"},
        "lifetime_value": {"name": "lifetime_value", "description": "Total lifetime order value in cents", "data_type": "bigint"}
      },
      "depends_on": {"nodes": ["model.jaffle_shop.stg_customers", "model.jaffle_shop.fct_orders"]},
      "refs": [["stg_customers"], ["fct_orders"]],
      "sources": []
    },
    "test.jaffle_shop.not_null_fct_orders_order_id.xxx": {
      "unique_id": "test.jaffle_shop.not_null_fct_orders_order_id.xxx",
      "name": "not_null_fct_orders_order_id",
      "resource_type": "test",
      "package_name": "jaffle_shop",
      "fqn": ["jaffle_shop", "not_null_fct_orders_order_id"],
      "depends_on": {"nodes": ["model.jaffle_shop.fct_orders"]},
      "test_metadata": {"name": "not_null", "kwargs": {"column_name": "order_id", "model": "ref('fct_orders')"}},
      "config": {"severity": "error"},
      "tags": []
    },
    "test.jaffle_shop.unique_fct_orders_order_id.xxx": {
      "unique_id": "test.jaffle_shop.unique_fct_orders_order_id.xxx",
      "name": "unique_fct_orders_order_id",
      "resource_type": "test",
      "package_name": "jaffle_shop",
      "fqn": ["jaffle_shop", "unique_fct_orders_order_id"],
      "depends_on": {"nodes": ["model.jaffle_shop.fct_orders"]},
      "test_metadata": {"name": "unique", "kwargs": {"column_name": "order_id", "model": "ref('fct_orders')"}},
      "config": {"severity": "error"},
      "tags": []
    },
    "test.jaffle_shop.accepted_values_fct_orders_status.xxx": {
      "unique_id": "test.jaffle_shop.accepted_values_fct_orders_status.xxx",
      "name": "accepted_values_fct_orders_status",
      "resource_type": "test",
      "package_name": "jaffle_shop",
      "fqn": ["jaffle_shop", "accepted_values_fct_orders_status"],
      "depends_on": {"nodes": ["model.jaffle_shop.fct_orders"]},
      "test_metadata": {"name": "accepted_values", "kwargs": {"column_name": "status", "values": ["placed", "shipped", "completed", "return_pending", "returned"]}},
      "config": {"severity": "warn"},
      "tags": []
    },
    "test.jaffle_shop.not_null_stg_orders_order_id.xxx": {
      "unique_id": "test.jaffle_shop.not_null_stg_orders_order_id.xxx",
      "name": "not_null_stg_orders_order_id",
      "resource_type": "test",
      "package_name": "jaffle_shop",
      "fqn": ["jaffle_shop", "not_null_stg_orders_order_id"],
      "depends_on": {"nodes": ["model.jaffle_shop.stg_orders"]},
      "test_metadata": {"name": "not_null", "kwargs": {"column_name": "order_id", "model": "ref('stg_orders')"}},
      "config": {"severity": "error"},
      "tags": []
    },
    "test.jaffle_shop.unique_stg_orders_order_id.xxx": {
      "unique_id": "test.jaffle_shop.unique_stg_orders_order_id.xxx",
      "name": "unique_stg_orders_order_id",
      "resource_type": "test",
      "package_name": "jaffle_shop",
      "fqn": ["jaffle_shop", "unique_stg_orders_order_id"],
      "depends_on": {"nodes": ["model.jaffle_shop.stg_orders"]},
      "test_metadata": {"name": "unique", "kwargs": {"column_name": "order_id", "model": "ref('stg_orders')"}},
      "config": {"severity": "error"},
      "tags": []
    }
  },
  "sources": {
    "source.jaffle_shop.jaffle_shop.orders": {
      "unique_id": "source.jaffle_shop.jaffle_shop.orders",
      "name": "orders",
      "source_name": "jaffle_shop",
      "schema": "raw",
      "database": "dev",
      "description": "Raw orders from the application database",
      "loader": "fivetran",
      "tags": [],
      "meta": {},
      "columns": {
        "id": {"name": "id", "description": "Primary key", "data_type": "bigint"},
        "user_id": {"name": "user_id", "description": "FK to users", "data_type": "bigint"},
        "amount": {"name": "amount", "description": "Order total", "data_type": "bigint"},
        "status": {"name": "status", "description": "Order status", "data_type": "varchar"}
      },
      "freshness": {"warn_after": {"count": 12, "period": "hour"}, "error_after": {"count": 24, "period": "hour"}}
    },
    "source.jaffle_shop.jaffle_shop.customers": {
      "unique_id": "source.jaffle_shop.jaffle_shop.customers",
      "name": "customers",
      "source_name": "jaffle_shop",
      "schema": "raw",
      "database": "dev",
      "description": "Raw customer records",
      "loader": "fivetran",
      "tags": [],
      "meta": {},
      "columns": {
        "id": {"name": "id", "description": "Primary key", "data_type": "bigint"}
      },
      "freshness": null
    },
    "source.jaffle_shop.jaffle_shop.payments": {
      "unique_id": "source.jaffle_shop.jaffle_shop.payments",
      "name": "payments",
      "source_name": "jaffle_shop",
      "schema": "raw",
      "database": "dev",
      "description": "Raw payment records from Stripe",
      "loader": "fivetran",
      "tags": [],
      "meta": {},
      "columns": {
        "id": {"name": "id", "description": "Primary key", "data_type": "bigint"},
        "order_id": {"name": "order_id", "description": "FK to orders", "data_type": "bigint"}
      },
      "freshness": {"warn_after": {"count": 6, "period": "hour"}, "error_after": {"count": 12, "period": "hour"}}
    }
  },
  "macros": {
    "macro.jaffle_shop.cents_to_dollars": {
      "unique_id": "macro.jaffle_shop.cents_to_dollars",
      "name": "cents_to_dollars",
      "package_name": "jaffle_shop",
      "original_file_path": "macros/cents_to_dollars.sql",
      "description": "Convert cents to dollars with 2 decimal places",
      "arguments": [{"name": "cents_column", "type": "string", "description": "Column containing cents value"}],
      "macro_sql": "{% macro cents_to_dollars(cents_column) %} ({{ cents_column }} / 100.0)::decimal(10, 2) {% endmacro %}"
    }
  },
  "exposures": {
    "exposure.jaffle_shop.orders_dashboard": {
      "unique_id": "exposure.jaffle_shop.orders_dashboard",
      "name": "orders_dashboard",
      "label": "Orders Dashboard",
      "type": "dashboard",
      "url": "https://bi.example.com/dashboards/orders",
      "description": "Executive orders and revenue dashboard",
      "owner": {"name": "Analytics Team", "email": "analytics@example.com"},
      "depends_on": {"nodes": ["model.jaffle_shop.fct_orders", "model.jaffle_shop.dim_customers"]},
      "tags": []
    }
  },
  "parent_map": {
    "model.jaffle_shop.stg_orders": ["source.jaffle_shop.jaffle_shop.orders"],
    "model.jaffle_shop.stg_customers": ["source.jaffle_shop.jaffle_shop.customers"],
    "model.jaffle_shop.stg_payments": ["source.jaffle_shop.jaffle_shop.payments"],
    "model.jaffle_shop.fct_orders": ["model.jaffle_shop.stg_orders", "model.jaffle_shop.stg_payments"],
    "model.jaffle_shop.dim_customers": ["model.jaffle_shop.stg_customers", "model.jaffle_shop.fct_orders"],
    "exposure.jaffle_shop.orders_dashboard": ["model.jaffle_shop.fct_orders", "model.jaffle_shop.dim_customers"],
    "test.jaffle_shop.not_null_fct_orders_order_id.xxx": ["model.jaffle_shop.fct_orders"],
    "test.jaffle_shop.unique_fct_orders_order_id.xxx": ["model.jaffle_shop.fct_orders"],
    "test.jaffle_shop.accepted_values_fct_orders_status.xxx": ["model.jaffle_shop.fct_orders"],
    "test.jaffle_shop.not_null_stg_orders_order_id.xxx": ["model.jaffle_shop.stg_orders"],
    "test.jaffle_shop.unique_stg_orders_order_id.xxx": ["model.jaffle_shop.stg_orders"]
  },
  "child_map": {
    "source.jaffle_shop.jaffle_shop.orders": ["model.jaffle_shop.stg_orders"],
    "source.jaffle_shop.jaffle_shop.customers": ["model.jaffle_shop.stg_customers"],
    "source.jaffle_shop.jaffle_shop.payments": ["model.jaffle_shop.stg_payments"],
    "model.jaffle_shop.stg_orders": ["model.jaffle_shop.fct_orders", "test.jaffle_shop.not_null_stg_orders_order_id.xxx", "test.jaffle_shop.unique_stg_orders_order_id.xxx"],
    "model.jaffle_shop.stg_customers": ["model.jaffle_shop.dim_customers"],
    "model.jaffle_shop.stg_payments": ["model.jaffle_shop.fct_orders"],
    "model.jaffle_shop.fct_orders": ["model.jaffle_shop.dim_customers", "exposure.jaffle_shop.orders_dashboard", "test.jaffle_shop.not_null_fct_orders_order_id.xxx", "test.jaffle_shop.unique_fct_orders_order_id.xxx", "test.jaffle_shop.accepted_values_fct_orders_status.xxx"],
    "model.jaffle_shop.dim_customers": ["exposure.jaffle_shop.orders_dashboard"]
  }
}
